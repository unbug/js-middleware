<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" js-middleware Classes MiddlewareManagerMiddlewareManager#MiddlewareManager Global compose Global Methods compose(funcs) Composes single-argument functions from right to left. The rightmost function can take multiple arguments as it provides the signature for the resulting composite function. Parameters: Name Type Argument Description funcs function &lt;repeatable&gt; The functions to compose. Returns: A function obtained by composing the argument functions from right to left. For example, compose(f, g, h) is identical to doing (...args) =&gt; f(g(h(...args))). Type function × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-05-20 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" js-middleware Classes MiddlewareManagerMiddlewareManager#MiddlewareManager Global compose Classes Classes MiddlewareManager MiddlewareManager × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-05-20 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" js-middleware Classes MiddlewareManagerMiddlewareManager#MiddlewareManager Global compose js-middleware Powerful Javascript Middleware Pattern implementation, apply middleweares to any object. A painless solution to make codes as scalable and maintainable as ReduxJS and ExpressJS. Links Project overview Documentation GitHub repo Overview Middleware functions are functions that have access to the target function and it's arguments, and the target object and the next middleware function in the target function cycle. The next middleware function is commonly denoted by a variable named next. Middleware functions can perform the following tasks: Execute any code. Make changes to the function's arguments. End the target function. Call the next middleware in the stack. If the current middleware function does not end the target function cycle, it must call next() to pass control to the next middleware function. Otherwise, the target function will be left hanging. Get started window.MiddlewareManager is available for browsers by include dist/middleware.min.js file in your HTML. &lt;script src=\"middleware.min.js\"&gt;&lt;/script&gt; Or install the package npm install --save js-middleware and import it in your files import {MiddlewareManager} from 'js-middleware'; Usages Basic We define a Person class. // the target object class Person { // the target function walk(step) { this.step = step; } speak(word) { this.word = word; } } Then we define a middleware function to print log. // middleware for walk function const logger = target =&gt; next =&gt; (...args) =&gt; { console.log(`walk start, steps: ${args[0]}.`); const result = next(...args); console.log(`walk end.`); return result; } Now we apply the log function as a middleware to a Person instance. // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use('walk', logger); p.walk(3); Whenever a Person instance call it's walk method, we'll see logs from the looger middleware. Middleware object We can also apply a middleware object to a target object. Middleware object is an object that contains function's name as same as the target object's function name. Function's name start or end with \"_\" will not be able to apply middleware. const PersonMiddleware = { walk: target =&gt; next =&gt; step =&gt; { console.log(`walk start, steps: step.`); const result = next(step); console.log(`walk end.`); return result; }, speak: target =&gt; next =&gt; word =&gt; { word = 'this is a middleware trying to say: ' + word; return next(word); } } // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use(PersonMiddleware); p.walk(3); p.speak('hi'); middlewareMethods In a class, function's name start or end with \"_\" will not be able to apply as middleware. Or we can use middlewareMethods to define function names for middleware target within a class. class PersonMiddleware { constructor() { /** * Or Define function names for middleweare target. * @type {Array} */ this.middlewareMethods = ['walk', 'speak']; } // Function's name start or end with \"_\" will not be able to apply as middleware. _getPrefix() { return 'Middleware log: '; } log(text) { console.log('Middleware log: ' + text); } walk(target) { return next =&gt; step =&gt; { this.log(`walk start, steps: step.`); const result = next(step); this.log(`walk end.`); return result; } } speak(target) { return next =&gt; word =&gt; { this.log('this is a middleware tring to say: ' + word); return next(word); } } } // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use(new PersonMiddleware()) p.walk(3); p.speak('hi'); APIs .use(methodName, ...middlewares) Apply (register) middleware functions to the target function or apply (register) middleware objects. If the first argument is a middleware object, the rest arguments must be middleware objects. {string|object} methodName String for target function name, object for a middleware object. {...function} middlewares The middleware chain to be applied. return {object} this Build Run npm install to install requirements. Run gulp to builds the library, generates dist/middleware.js as the core script, watches for file changes, starts a HTTP server for debug. Usage gulp [TASK] [OPTIONS...] Available tasks build Builds the library. clean Cleans files. clean:dist Cleans dist files. clean:docs Cleans docs files. default docs Builds documentation. docs:html Builds HTML documentation. docs:md Builds markdown documentation. help Display this help text. lint Lint JS files. mini Minify the library. server Starts a HTTP server for debug. test Run test cases. watch Watches for changes in files, re-lint, re-build &amp; re-docs. Run gulp docs to build docs. View markdown docs with docs/API.md, or run gulp server to start a HTTP server and view HTML docs with localhost:3000/docs/html/. Roadmap &amp; Make contributions Supports RegExp to match method names, pass the current method name as param to the current middleware. once(methodName, ...middlewares) Apply middlewares only run once. Be able to unuse middlewares. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-05-20 using the DocStrap template. "},"MiddlewareManager.html":{"id":"MiddlewareManager.html","title":"Class: MiddlewareManager","body":" js-middleware Classes MiddlewareManagerMiddlewareManager#MiddlewareManager Global compose Class: MiddlewareManager MiddlewareManager Manage middlewares for an object. Middleware functions are functions that have access to the target function and it's arguments, and the target object and the next middleware function in the target function cycle. The next middleware function is commonly denoted by a variable named next. Middleware functions can perform the following tasks: Execute any code. Make changes to the function's arguments. End the target function. Call the next middleware in the stack. If the current middleware function does not end the target function cycle, it must call next() to pass control to the next middleware function. Otherwise, the target function will be left hanging. e.g. const walk = target =&gt; next =&gt; (...args) =&gt; { this.log(`walk function start.`); const result = next(...args); this.log(`walk function end.`); return result; } Middleware object is an object that contains function's name as same as the target object's function name. e.g. const Logger = { walk: target =&gt; next =&gt; (...args) =&gt; { console.log(`walk function start.`); const result = next(...args); console.log(`walk function end.`); return result; } } Function's name start or end with \"_\" will not be able to apply middleware. new MiddlewareManager() Example ## Basic We define a Person class. // the target object class Person { // the target function walk(step) { this.step = step; } speak(word) { this.word = word; } } Then we define a middleware function to print log. // middleware for walk function const logger = target =&gt; next =&gt; (...args) =&gt; { console.log(`walk start, steps: ${args[0]}.`); const result = next(...args); console.log(`walk end.`); return result; } Now we apply the log function as a middleware to a Person instance. // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use('walk', logger); p.walk(3); Whenever a Person instance call it's walk method, we'll see logs from the logger middleware. ## Apply to all Take the same example as above but do not specify the walk method instead pass null. // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use(null, logger); p.walk(3); p.speak('hello'); Whenever a Person instance calls any of it's methods, we'll see logs from the logger middleware. ## Middleware object We can also apply a middleware object to a target object. Middleware object is an object that contains function's name as same as the target object's function name. const PersonMiddleware = { walk: target =&gt; next =&gt; step =&gt; { console.log(`walk start, steps: step.`); const result = next(step); console.log(`walk end.`); return result; }, speak: target =&gt; next =&gt; word =&gt; { word = 'this is a middleware trying to say: ' + word; return next(word); } } // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use(PersonMiddleware); p.walk(3); p.speak('hi'); ## middlewareMethods In a class, function's name start or end with \"_\" will not be able to apply as middleware. Or we can use `middlewareMethods` to define function names for middleware target within a class. class PersonMiddleware { constructor() { // Or Define function names for middleware target. this.middlewareMethods = ['walk', 'speak']; } // Function's name start or end with \"_\" will not be able to apply as middleware. _getPrefix() { return 'Middleware log: '; } log(text) { console.log(this._getPrefix() + text); } walk(target) { return next =&gt; step =&gt; { this.log(`walk start, steps: step.`); const result = next(step); this.log(`walk end.`); return result; } } speak(target) { return next =&gt; word =&gt; { this.log('this is a middleware trying to say: ' + word); return next(word); } } } // apply middleware to target object const p = new Person(); const middlewareManager = new MiddlewareManager(p); middlewareManager.use(new PersonMiddleware()) p.walk(3); p.speak('hi'); Classes MiddlewareManager Methods use(methodName, middlewares) Apply (register) middleware functions to the target function or apply (register) middleware objects. If the first argument is a middleware object, the rest arguments must be middleware objects. Parameters: Name Type Argument Description methodName string | object | null String for target function name, object for a middleware object, null will apply the middlewares to all methods on the target. middlewares function | object &lt;repeatable&gt; The middleware chain to be applied. Returns: this Type object × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-05-20 using the DocStrap template. "},"MiddlewareManager_MiddlewareManager.html":{"id":"MiddlewareManager_MiddlewareManager.html","title":"Class: MiddlewareManager","body":" js-middleware Classes MiddlewareManagerMiddlewareManager#MiddlewareManager Global compose Class: MiddlewareManager MiddlewareManager# MiddlewareManager new MiddlewareManager(target, middlewareObjects) Parameters: Name Type Argument Description target object The target object. middlewareObjects object &lt;repeatable&gt; Middleware objects. Returns: this Type object × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-05-20 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
